quarkus.application.name=xmas-rhcl-shop
quarkus.http.cors=true
quarkus.http.cors.origins=*
quarkus.swagger-ui.always-include=true
quarkus.log.category."com.arencloud.xmas".level=INFO

# OIDC / Keycloak
quarkus.oidc.auth-server-url=${KEYCLOAK_URL:https://sso.arencloud.com/realms/xmas}
quarkus.oidc.client-id=${KEYCLOAK_CLIENT_ID:xmas-shop}
quarkus.oidc.credentials.secret=${KEYCLOAK_CLIENT_SECRET:dev-secret}
quarkus.oidc.application-type=web-app
quarkus.oidc.token.audience=${KEYCLOAK_CLIENT_ID:xmas-shop}

# Security rules
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.public.paths=/,/index.html,/images/*,/assets/*,/favicon.ico,/js/*,/css/*,/q/health,/q/health/*
quarkus.http.auth.permission.gifts.policy=permit
quarkus.http.auth.permission.gifts.paths=/api/gifts,/api/config
quarkus.http.auth.permission.api.policy=authenticated
quarkus.http.auth.permission.api.paths=/api/orders,/api/orders/*

# Dev mode console workaround (avoids AeshConsole NPE in headless shells)
%dev.quarkus.console.enabled=false

# Container image (Podman/Jib)
quarkus.container-image.builder=jib
quarkus.container-image.group=${IMAGE_GROUP:arencloud}
quarkus.container-image.name=${IMAGE_NAME:xmas-rhcl-shop}
quarkus.container-image.registry=${IMAGE_REGISTRY:containers.arencloud.com}
quarkus.container-image.tag=${IMAGE_TAG:latest}
quarkus.jib.base-jvm-image=registry.access.redhat.com/ubi9/openjdk-21:1.17-1
